<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_httpform">Class httpform </a></li>
<li><a href="#Class_easy">Class easy </a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><strong>lcurl</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>lcurl</code></h1>
<p></p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#form">form ()</a></td>
	<td class="summary">Create HTTP multipart object.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy">easy ()</a></td>
	<td class="summary">Create Easy object</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#version">version ()</a></td>
	<td class="summary">Returns libcurl version as human readable string</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#version_info">version_info ([param])</a></td>
	<td class="summary">Returns libcurl version as table</td>
	</tr>
</table>
<h2><a href="#Class_httpform">Class httpform </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#httpform:add_content">httpform:add_content (name, content[, type[, headers]])</a></td>
	<td class="summary">Add new part to form.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#httpform:add_buffer">httpform:add_buffer (name, filename, content[, type[, headers]])</a></td>
	<td class="summary">Add new part to form.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#httpform:add_file">httpform:add_file (name, path[, type[, filename[, headers]]])</a></td>
	<td class="summary">Add new part to form.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#httpform:get">httpform:get ()</a></td>
	<td class="summary">Serialize multipart/formdata HTTP POST chain.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#httpform:get">httpform:get (writer[, context])</a></td>
	<td class="summary">Serialize multipart/formdata HTTP POST chain.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#httpform:get">httpform:get (writer)</a></td>
	<td class="summary">Serialize multipart/formdata HTTP POST chain.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#httpform:free">httpform:free ()</a></td>
	<td class="summary">Free multipart/formdata.</td>
	</tr>
</table>
<h2><a href="#Class_easy">Class easy </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#easy:perfom">easy:perfom ()</a></td>
	<td class="summary">Perform a file transfer</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:escape">easy:escape (url)</a></td>
	<td class="summary">URL encodes the given string</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:unescape">easy:unescape (url)</a></td>
	<td class="summary">URL decodes the given string</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:reset">easy:reset ()</a></td>
	<td class="summary">Re-initializes all options previously set.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:close">easy:close ()</a></td>
	<td class="summary">End easy session</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt">easy:setopt (opt, ...)</a></td>
	<td class="summary">Set options.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:getinfo">easy:getinfo (info)</a></td>
	<td class="summary">Get information.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_writefunction">easy:setopt_writefunction (writer[, context])</a></td>
	<td class="summary">Set writer function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_writefunction">easy:setopt_writefunction (writer)</a></td>
	<td class="summary">Set writer function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_headerfunction">easy:setopt_headerfunction (writer[, context])</a></td>
	<td class="summary">Set header function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_headerfunction">easy:setopt_headerfunction (writer)</a></td>
	<td class="summary">Set header function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_readfunction">easy:setopt_readfunction (reader[, context])</a></td>
	<td class="summary">Set reader function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_readfunction">easy:setopt_readfunction (reader)</a></td>
	<td class="summary">Set reader function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_progressfunction">easy:setopt_progressfunction (progress[, context])</a></td>
	<td class="summary">Set progress function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_readfunction">easy:setopt_readfunction (reader)</a></td>
	<td class="summary">Set reader function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_httpform">easy:setopt_httpform (data)</a></td>
	<td class="summary">Set HTTP multipart/formdata</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#easy:setopt_postfields">easy:setopt_postfields (data[, length=#data])</a></td>
	<td class="summary">Set HTTP multipart/formdata</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "form"></a>
    <strong>form ()</strong>
    </dt>
    <dd>
    Create HTTP multipart object.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Class_httpform">httpform</a></span>
        new curl HTTP Post object context
    </ol>




</dd>
    <dt>
    <a name = "easy"></a>
    <strong>easy ()</strong>
    </dt>
    <dd>
    Create Easy object



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Class_easy">easy</a></span>
        new curl easy object
    </ol>




</dd>
    <dt>
    <a name = "version"></a>
    <strong>version ()</strong>
    </dt>
    <dd>
    Returns libcurl version as human readable string







</dd>
    <dt>
    <a name = "version_info"></a>
    <strong>version_info ([param])</strong>
    </dt>
    <dd>
    Returns libcurl version as table


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">param</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         specific version info
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        full version into if `param` was not specify
    </ol>
     <h3>Or</h3>
    <ol>

        specific info parameter
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 proto = curl.version_info(<span class="string">'protocols'</span>)
 <span class="keyword">if</span> proto.HTTP <span class="keyword">then</span> ... -- libcurl support http protocol</pre>
    </ul>

</dd>
</dl>
    <h2><a name="Class_httpform"></a>Class httpform </h2>

    <dl class="function">
    <dt>
    <a name = "httpform:add_content"></a>
    <strong>httpform:add_content (name, content[, type[, headers]])</strong>
    </dt>
    <dd>
    Add new part to form.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provide the name of this part
        </li>
        <li><span class="parameter">content</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         actual data to send
        </li>
        <li><span class="parameter">type</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provides the content-type for this part
        </li>
        <li><span class="parameter">headers</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         specifies extra headers for the form POST section
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "httpform:add_buffer"></a>
    <strong>httpform:add_buffer (name, filename, content[, type[, headers]])</strong>
    </dt>
    <dd>
    Add new part to form.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provide the name of this part
        </li>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provides the filename field in the content header
        </li>
        <li><span class="parameter">content</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         actual data to send
        </li>
        <li><span class="parameter">type</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provides the content-type for this part
        </li>
        <li><span class="parameter">headers</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         specifies extra headers for the form POST section
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "httpform:add_file"></a>
    <strong>httpform:add_file (name, path[, type[, filename[, headers]]])</strong>
    </dt>
    <dd>
    Add new part to form.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provide the name of this part
        </li>
        <li><span class="parameter">path</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         path to file that contain actual data to send
        </li>
        <li><span class="parameter">type</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provides the content-type for this part
        </li>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         provides the filename field in the content header.
   By default it is basename of path.
        </li>
        <li><span class="parameter">headers</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         specifies extra headers for the form POST section
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "httpform:get"></a>
    <strong>httpform:get ()</strong>
    </dt>
    <dd>
    Serialize multipart/formdata HTTP POST chain.



    <h3>Returns:</h3>
    <ol>

        string serialized data
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="global">print</span>(post:get())</pre>
    </ul>

</dd>
    <dt>
    <a name = "httpform:get"></a>
    <strong>httpform:get (writer[, context])</strong>
    </dt>
    <dd>
    Serialize multipart/formdata HTTP POST chain.
<p> Writer function can return true or number of written bytes.
 Also if function does not return anything is considered as success.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">writer</span>
            <span class="types"><span class="type">function</span></span>

        </li>
        <li><span class="parameter">context</span>
         writer context
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 t = {}
 post:get(<span class="global">table</span>.insert, t)
 <span class="global">print</span>(<span class="global">table</span>.concat(t))</pre>
    </ul>

</dd>
    <dt>
    <a name = "httpform:get"></a>
    <strong>httpform:get (writer)</strong>
    </dt>
    <dd>
    Serialize multipart/formdata HTTP POST chain.
<p> This call same as httpform:get(writer.write, writer)



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">writer</span>
            <span class="types"><span class="type">object</span></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 f = <span class="global">io</span>.open(...)
 post:get(f)</pre>
    </ul>

</dd>
    <dt>
    <a name = "httpform:free"></a>
    <strong>httpform:free ()</strong>
    </dt>
    <dd>
    Free multipart/formdata.







</dd>
</dl>
    <h2><a name="Class_easy"></a>Class easy </h2>

    <dl class="function">
    <dt>
    <a name = "easy:perfom"></a>
    <strong>easy:perfom ()</strong>
    </dt>
    <dd>
    Perform a file transfer



    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:escape"></a>
    <strong>easy:escape (url)</strong>
    </dt>
    <dd>
    URL encodes the given string


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        encoded url
    </ol>




</dd>
    <dt>
    <a name = "easy:unescape"></a>
    <strong>easy:unescape (url)</strong>
    </dt>
    <dd>
    URL decodes the given string


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">url</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        decoded url
    </ol>




</dd>
    <dt>
    <a name = "easy:reset"></a>
    <strong>easy:reset ()</strong>
    </dt>
    <dd>
    Re-initializes all options previously set.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Class_easy">easy</a></span>
        self
    </ol>




</dd>
    <dt>
    <a name = "easy:close"></a>
    <strong>easy:close ()</strong>
    </dt>
    <dd>
    End easy session







</dd>
    <dt>
    <a name = "easy:setopt"></a>
    <strong>easy:setopt (opt, ...)</strong>
    </dt>
    <dd>
    Set options.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">opt</span>
            <span class="types"><span class="type">number</span></span>
         one of `curl.OPT_XXX` constant
        </li>
        <li><span class="parameter">...</span>
         value
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#Class_easy">easy</a></span>
        self
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 c:setopt(curl.OPT_URL, <span class="string">"http://example.com"</span>)
 c:setopt(curl.OPT_READFUNCTION,
    <span class="keyword">function</span>(t, n) <span class="keyword">return</span> <span class="global">table</span>.remove(t) <span class="keyword">end</span>,
    {<span class="string">"1111"</span>, <span class="string">"2222"</span>}
 )</pre>
    </ul>

</dd>
    <dt>
    <a name = "easy:getinfo"></a>
    <strong>easy:getinfo (info)</strong>
    </dt>
    <dd>
    Get information.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">info</span>
            <span class="types"><span class="type">number</span></span>
         one of `curl.INFO_XXX` constant
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        value
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 <span class="global">print</span>(c:getinfo(curl.INFO_EFFECTIVE_URL))
 <span class="global">print</span>(c:getinfo(curl.INFO_TOTAL_TIME))
 <span class="global">print</span>(c:getinfo(curl.INFO_RESPONSE_CODE))</pre>
    </ul>

</dd>
    <dt>
    <a name = "easy:setopt_writefunction"></a>
    <strong>easy:setopt_writefunction (writer[, context])</strong>
    </dt>
    <dd>
    Set writer function.
<p> A callback accepting one or two parameters.
 The first is the writer context if any, and the second is a string with the data to be written.
 Function must return `true` or full data length or nothing to continue operation.
 Otherwise the transfer will be aborted with an error.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">writer</span>
            <span class="types"><span class="type">function</span></span>

        </li>
        <li><span class="parameter">context</span>
         writer context
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_writefunction"></a>
    <strong>easy:setopt_writefunction (writer)</strong>
    </dt>
    <dd>
    Set writer function.
<p> This call same as easy:set_writefunction(writer.write, writer)



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">writer</span>
            <span class="types"><span class="type">object</span></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_headerfunction"></a>
    <strong>easy:setopt_headerfunction (writer[, context])</strong>
    </dt>
    <dd>
    Set header function.
<p> A callback accepting one or two parameters.
 The first is the writer context if any, and the second is a string with the data to be written.
 Function must return `true` or full data length or nothing to continue operation.
 Otherwise the transfer will be aborted with an error.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">writer</span>
            <span class="types"><span class="type">function</span></span>

        </li>
        <li><span class="parameter">context</span>
         writer context
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_headerfunction"></a>
    <strong>easy:setopt_headerfunction (writer)</strong>
    </dt>
    <dd>
    Set header function.
<p> This call same as easy:set_headerfunction(writer.header, writer)



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">writer</span>
            <span class="types"><span class="type">object</span></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_readfunction"></a>
    <strong>easy:setopt_readfunction (reader[, context])</strong>
    </dt>
    <dd>
    Set reader function.
<p> A callback accepting one or two parameters.
 The first is the reader context if any, and the second is the maximum amount of data to be read.
 You can ignore second argument and pass as mach data as you need. lcurl can split data.
 Function must return data to continue operation. To stop operation it must return empty string on nil.
 Otherwise the transfer will be aborted with an error.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">reader</span>
            <span class="types"><span class="type">function</span></span>

        </li>
        <li><span class="parameter">context</span>
         reader context
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_readfunction"></a>
    <strong>easy:setopt_readfunction (reader)</strong>
    </dt>
    <dd>
    Set reader function.
<p> This call same as easy:set_readfunction(reader.read, reader)



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">reader</span>
            <span class="types"><span class="type">object</span></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_progressfunction"></a>
    <strong>easy:setopt_progressfunction (progress[, context])</strong>
    </dt>
    <dd>
    Set progress function.
<p> A callback accepting four or five parameters.
 The first is the reader context if any, the second is the total number
 of bytes expected to be downloaded in this transfer,
 the third is the number of bytes downloaded so far,
 the fourth is the total number of bytes expected to be uploaded
 in this transfer, and the fifth is the number of bytes uploaded so far.
 Function must return `true` or or nothing to continue operation.
 Otherwise the transfer will be aborted with an error.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">progress</span>
            <span class="types"><span class="type">function</span></span>

        </li>
        <li><span class="parameter">context</span>
         progress context
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_readfunction"></a>
    <strong>easy:setopt_readfunction (reader)</strong>
    </dt>
    <dd>
    Set reader function.
<p> This call same as easy:set_readfunction(reader.read, reader)



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">reader</span>
            <span class="types"><span class="type">object</span></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_httpform"></a>
    <strong>easy:setopt_httpform (data)</strong>
    </dt>
    <dd>
    Set HTTP multipart/formdata


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data</span>
            <span class="types"><a class="type" href="index.html#Class_httpform">httpform</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
    <dt>
    <a name = "easy:setopt_postfields"></a>
    <strong>easy:setopt_postfields (data[, length=#data])</strong>
    </dt>
    <dd>
    Set HTTP multipart/formdata


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
        <li><span class="parameter">length</span>
            <span class="types"><span class="type">number</span></span>

         (<em>default</em> #data)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        self
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.0</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
